<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MotorPride Kenya | Mercedes Models</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #1a73e8;
            --primary-dark: #0d5bb9;
            --secondary-color: #f8f9fa;
            --accent-color: #ff6b35;
            --text-color: #333;
            --light-text: #666;
            --border-color: #e0e0e0;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.15);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background-color: white;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 25px;
        }

        nav ul li a {
            text-decoration: none;
            color: var(--text-color);
            font-weight: 500;
            transition: var(--transition);
        }

        nav ul li a:hover {
            color: var(--primary-color);
        }

        nav ul li a.active {
            color: var(--primary-color);
            font-weight: 600;
        }

        .page-title {
            font-size: 32px;
            margin: 30px 0;
            text-align: center;
        }

        /* Search Results Header */
        .search-results-header {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            display: none;
        }

        .search-results-title {
            font-size: 24px;
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .search-criteria {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
        }

        .search-criteria-item {
            background-color: var(--secondary-color);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .clear-search {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }

        .clear-search:hover {
            background-color: #e55a2b;
        }

        /* Cars Grid - Improved Design */
        .cars-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .car-card {
            background-color: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .car-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
        }

        .car-image-container {
            position: relative;
            height: 200px;
            overflow: hidden;
        }

        .car-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .car-card:hover .car-image {
            transform: scale(1.08);
        }

        .reserve-btn {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            z-index: 10;
        }

        .reserve-btn:hover {
            background-color: #e55a2b;
            transform: scale(1.05);
        }

        .car-info {
            padding: 18px;
        }

        .car-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .car-id {
            font-size: 12px;
            color: var(--light-text);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .car-year-price {
            display: flex;
            justify-content: space-between;
            color: var(--light-text);
            margin-bottom: 12px;
        }

        .car-price {
            font-weight: 600;
            color: var(--accent-color);
            font-size: 18px;
        }

        .car-specs {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: var(--light-text);
        }

        /* Enhanced Status Badges with Scroll Animation */
        .status-badge {
            position: absolute;
            top: 12px;
            left: 12px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            z-index: 5;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.5s ease;
        }

        .status-badge.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .status-available {
            background-color: #28a745;
            color: white;
            box-shadow: 0 2px 8px rgba(40, 167, 69, 0.3);
        }

        .status-incoming {
            background-color: #ffc107;
            color: #000;
            box-shadow: 0 2px 8px rgba(255, 193, 7, 0.3);
        }

        .status-sold {
            background-color: #6c757d;
            color: white;
            box-shadow: 0 2px 8px rgba(108, 117, 125, 0.3);
        }

        /* Modal Styles with Enhanced Animations */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .car-detail-modal {
            background-color: white;
            border-radius: 12px;
            width: 90%;
            max-width: 1100px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: scale(0.8);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .modal-overlay.active .car-detail-modal {
            transform: scale(1);
            opacity: 1;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .modal-title {
            font-size: 24px;
            font-weight: 600;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--light-text);
            transition: var(--transition);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .close-modal:hover {
            color: var(--text-color);
            background-color: rgba(0, 0, 0, 0.05);
        }

        .modal-content {
            padding: 25px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .car-images {
            display: flex;
            flex-direction: column;
        }

        .primary-image {
            width: 100%;
            height: 350px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 15px;
            transition: transform 0.3s ease;
            box-shadow: var(--shadow);
        }

        .primary-image:hover {
            transform: scale(1.02);
        }

        /* Enlarged Thumbnails */
        .thumbnails {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .thumbnail {
            width: 100%;
            height: 100px;
            object-fit: cover;
            border-radius: 6px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow);
        }

        .thumbnail:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-lg);
        }

        .thumbnail.active {
            border: 3px solid var(--primary-color);
            transform: scale(1.05);
        }

        .car-details {
            display: flex;
            flex-direction: column;
        }

        .detail-item {
            margin-bottom: 18px;
            padding-bottom: 18px;
            border-bottom: 1px solid var(--border-color);
            animation: slideInRight 0.5s ease forwards;
            opacity: 0;
            transform: translateX(20px);
        }

        @keyframes slideInRight {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .detail-label {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--primary-color);
            font-size: 16px;
        }

        .features-list {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            background-color: rgba(26, 115, 232, 0.05);
            border-radius: 6px;
            transition: var(--transition);
        }

        .feature-item:hover {
            background-color: rgba(26, 115, 232, 0.1);
            transform: translateX(5px);
        }

        .feature-item::before {
            content: "âœ“";
            color: var(--accent-color);
            font-weight: bold;
        }

        .modal-footer {
            display: flex;
            justify-content: space-between;
            padding: 20px;
            border-top: 1px solid var(--border-color);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        .nav-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 6px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
        }

        .nav-btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
        }

        .modal-reserve-btn {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 10px rgba(255, 107, 53, 0.3);
        }

        .modal-reserve-btn:hover {
            background-color: #e55a2b;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(255, 107, 53, 0.4);
        }

        /* Enhanced Agents Modal */
        .agents-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            width: 90%;
            max-width: 700px;
            box-shadow: var(--shadow-lg);
            z-index: 1100;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .agents-modal.active {
            opacity: 1;
            visibility: visible;
            animation: modalSlideIn 0.4s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translate(-50%, -60%);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }

        .agents-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }

        .agents-title {
            font-size: 22px;
            font-weight: 600;
        }

        .close-agents {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--light-text);
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: var(--transition);
        }

        .close-agents:hover {
            color: var(--text-color);
            background-color: rgba(0, 0, 0, 0.05);
        }

        .agents-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .agent-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 20px;
            border-radius: 10px;
            background-color: var(--secondary-color);
            transition: var(--transition);
            box-shadow: var(--shadow);
        }

        .agent-item:hover {
            background-color: #e9ecef;
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .agent-photo {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 15px;
            background-color: #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--light-text);
            font-size: 36px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .agent-name {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 18px;
        }

        .agent-role {
            font-size: 14px;
            color: var(--light-text);
            margin-bottom: 15px;
        }

        .agent-action {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            display: inline-block;
            font-size: 14px;
            width: 100%;
            font-weight: 600;
        }

        .agent-action:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
        }

        .pagination {
            display: flex;
            justify-content: center;
            margin: 40px 0;
        }

        .pagination button {
            background-color: white;
            border: 1px solid var(--border-color);
            padding: 10px 20px;
            margin: 0 5px;
            cursor: pointer;
            border-radius: 6px;
            transition: var(--transition);
            font-weight: 600;
        }

        .pagination button:hover:not(:disabled) {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .pagination button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .page-numbers {
            display: flex;
            align-items: center;
            margin: 0 10px;
            font-weight: 600;
        }

        /* Caplicity Motors branding */
        .caplicity-brand {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-weight: 700;
            color: #1a73e8;
            font-size: 14px;
            margin-bottom: 5px;
            letter-spacing: 0.5px;
        }

        @media (max-width: 992px) {
            .modal-content {
                grid-template-columns: 1fr;
            }
            
            .thumbnails {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            nav ul {
                margin-top: 10px;
            }
            
            .cars-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .features-list {
                grid-template-columns: 1fr;
            }
            
            .thumbnails {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .agents-list {
                grid-template-columns: 1fr;
            }
            
            .search-criteria {
                flex-direction: column;
                gap: 10px;
            }
        }

        @media (max-width: 576px) {
            .cars-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-footer {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-buttons {
                justify-content: center;
            }
            
            .thumbnails {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">MotorPride Kenya</div>
                <nav>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="#" class="active">Toyota Models</a></li>
                        <li><a href="aboutus.html">About</a></li>
                        <li><a href="contacts.html">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <main class="container">
        <h1 class="page-title" id="pageTitle">Mercedes Models Collection</h1>
        
        <!-- Search Results Header -->
        <div class="search-results-header" id="searchResultsHeader">
            <h2 class="search-results-title" id="searchResultsTitle">Search Results</h2>
            <div class="search-criteria" id="searchCriteria"></div>
            <button class="clear-search" id="clearSearch">Clear Search & Show All Vehicles</button>
        </div>
        
        <div class="cars-grid" id="carsGrid">
            <!-- Cars will be loaded here by JavaScript -->
        </div>
        
        <div class="pagination">
            <button id="prevPage" disabled>Previous</button>
            <div class="page-numbers">
                <span id="currentPage">1</span> / <span id="totalPages">1</span>
            </div>
            <button id="nextPage">Next</button>
        </div>
    </main>

    <!-- Car Details Modal -->
    <div class="modal-overlay" id="carModal">
        <div class="car-detail-modal">
            <div class="modal-header">
                <h2 class="modal-title" id="modalCarTitle">Car Details</h2>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            <div class="modal-content">
                <div class="car-images">
                    <img src="" alt="Car Image" class="primary-image" id="modalPrimaryImage">
                    <div class="thumbnails" id="modalThumbnails"></div>
                </div>
                <div class="car-details" id="carDetails"></div>
            </div>
            <div class="modal-footer">
                <div class="nav-buttons">
                    <button class="nav-btn" id="prevCar">Previous Car</button>
                    <button class="nav-btn" id="nextCar">Next Car</button>
                </div>
                <button class="modal-reserve-btn" id="modalReserveBtn">Reserve This Car</button>
            </div>
        </div>
    </div>

    <!-- Agents Modal -->
    <div class="agents-modal" id="agentsModal">
        <div class="agents-header">
            <h3 class="agents-title">Contact Our Sales Team</h3>
            <button class="close-agents" id="closeAgents">&times;</button>
        </div>
        <div class="agents-message">
            <p>For reservations and enquiries about this vehicle, please contact one of our sales agents:</p>
        </div>
        <div class="agents-list" id="agentsList"></div>
        <div class="agents-footer">
            <button class="exit-reserve" id="exitReserve">Exit Reservation</button>
        </div>
    </div>

    <script>
        // Sample car data for Toyota models
        const cars = [


        {
  id: "MPK009A",
  brand: "Mercedes-Benz",
  model: "GLC 220d",
  year: 2019,
  fuel: "Diesel",
  engine: "2200cc",
  transmission: "Automatic",
  drive: "AWD",
  mileage: null,
  exteriorColor: null,
  interior: "Leather",
  price: 7000000,
  currency: "KES",
  images: [
    "https://i.ibb.co/Pv2GMspB/Whats-App-Image-2026-01-31-at-7-35-18-AM-1.jpg",
    "https://i.ibb.co/LdvSDqwN/Whats-App-Image-2026-01-31-at-7-35-18-AM-2.jpg",
    "https://i.ibb.co/9H2KYYry/Whats-App-Image-2026-01-31-at-7-35-18-AM-3.jpg",
    "https://i.ibb.co/8LJGSzYV/Whats-App-Image-2026-01-31-at-7-35-18-AM.jpg",
    "https://i.ibb.co/VctH9JrW/Whats-App-Image-2026-01-31-at-7-35-19-AM-1.jpg",
    "https://i.ibb.co/nMcYMFFs/Whats-App-Image-2026-01-31-at-7-35-19-AM-2.jpg",
    "https://i.ibb.co/HTd8y2Kh/Whats-App-Image-2026-01-31-at-7-35-19-AM.jpg",
    "https://i.ibb.co/dw1qZwbk/Whats-App-Image-2026-01-31-at-7-35-20-AM-1.jpg",
    "https://i.ibb.co/MDPHFV78/Whats-App-Image-2026-01-31-at-7-35-20-AM-2.jpg",
    "https://i.ibb.co/23WynyhY/Whats-App-Image-2026-01-31-at-7-35-20-AM.jpg",
    "https://i.ibb.co/1Jw8VS0M/Whats-App-Image-2026-01-31-at-7-35-21-AM-1.jpg",
    "https://i.ibb.co/5xBkkgQs/Whats-App-Image-2026-01-31-at-7-35-21-AM-2.jpg",
    "https://i.ibb.co/S76kY2VC/Whats-App-Image-2026-01-31-at-7-35-21-AM-3.jpg",
    "https://i.ibb.co/GQWSHXjn/Whats-App-Image-2026-01-31-at-7-35-21-AM.jpg",
    "https://i.ibb.co/pvFxL1N3/Whats-App-Image-2026-01-31-at-7-35-22-AM.jpg"
  ],
  features: [
    "Air suspension",
    "Wireless charging",
    "Leather interior",
    "Multifunction steering wheel controls",
    "Cruise control",
    "Push to start",
    "Keyless entry",
    "Reverse camera",
    "Daytime running lights",
    "LED headlamps",
    "Fog lights",
    "Alloy wheels",
    "Smooth and powerful diesel drive"
  ],
  status: "Available"
}
,

{
  id: "MPK0022A",
  name: "2019 Mercedes-Benz A180 W177",
  brand: "Mercedes-Benz",
  model: "A180",
  year: 2019,
  fuel: "Petrol",
  transmission: "Automatic",
  engine: "1300cc Turbo",
  color: "Gray",
  interior: "Leather",
  price: 2750000,
  images: [
    "https://i.ibb.co/rGRX3M12/Whats-App-Image-2026-01-31-at-8-47-54-PM-2.jpg",
    "https://i.ibb.co/PzwtDqr1/Whats-App-Image-2026-01-31-at-8-47-56-PM.jpg",
    "https://i.ibb.co/jP264kzJ/Whats-App-Image-2026-01-31-at-8-47-55-PM-4.jpg",
    "https://i.ibb.co/3yPmJ9B0/Whats-App-Image-2026-01-31-at-8-47-55-PM-3.jpg",
    "https://i.ibb.co/whKMxf1L/Whats-App-Image-2026-01-31-at-8-47-55-PM-2.jpg",
    "https://i.ibb.co/jvx6NnGC/Whats-App-Image-2026-01-31-at-8-47-55-PM-1.jpg",
    "https://i.ibb.co/hxRf3jNx/Whats-App-Image-2026-01-31-at-8-47-55-PM.jpg",
    "https://i.ibb.co/kLg6sQ7/Whats-App-Image-2026-01-31-at-8-47-54-PM-1.jpg",
    "https://i.ibb.co/XrQbxjgL/Whats-App-Image-2026-01-31-at-8-47-54-PM.jpg",
    "https://i.ibb.co/JwNFJ9PX/Whats-App-Image-2026-01-31-at-8-47-53-PM-2.jpg",
    "https://i.ibb.co/sJ3bpQ8L/Whats-App-Image-2026-01-31-at-8-47-53-PM-1.jpg",
    "https://i.ibb.co/1GNB5YCh/Whats-App-Image-2026-01-31-at-8-47-53-PM.jpg",
    "https://i.ibb.co/GQ4sFJ82/Whats-App-Image-2026-01-31-at-8-47-52-PM.jpg"
  ],
  features: [
    "Front Bucket Seats",
    "Digital Instrument Cluster",
    "Active Brake Assist",
    "Lane Departure Warning",
    "Blind Spot Monitoring",
    "Front Heated Seats",
    "Driver Memory Seat",
    "Multifunction Steering Wheel",
    "Apple CarPlay",
    "Android Auto",
    "All-Round Parking Sensors",
    "360Â° Reverse Camera",
    "Wireless Charging"
  ]
}
,

{
  id: "MPK0025A",
  name: "2019 Mercedes-Benz B180 W247",
  brand: "Mercedes-Benz",
  model: "B180",
  year: 2019,
  fuel: "Petrol",
  engine: "1300cc Turbo",
  transmission: "Automatic",
  drive: "2WD",
  hybrid: false,
  seating: 5,
  exteriorColor: "Grey",
  interior: "Leather Upholstery",
  mileage: 56000,
  sunroof: "Panoramic",
  price: 2800000,
  currency: "KES",
  images: [
    "https://i.ibb.co/TBDvsh2x/Whats-App-Image-2026-02-01-at-9-54-47-PM-1.jpg",
    "https://i.ibb.co/d8m9ZMX/Whats-App-Image-2026-02-01-at-9-55-08-PM.jpg",
    "https://i.ibb.co/ymsJcmyY/Whats-App-Image-2026-02-01-at-9-55-07-PM-1.jpg",
    "https://i.ibb.co/whHLNksz/Whats-App-Image-2026-02-01-at-9-55-07-PM.jpg",
    "https://i.ibb.co/Kp7PjkCv/Whats-App-Image-2026-02-01-at-9-55-05-PM.jpg",
    "https://i.ibb.co/fzFxVQGY/Whats-App-Image-2026-02-01-at-9-54-58-PM.jpg",
    "https://i.ibb.co/G3Fwz8NP/Whats-App-Image-2026-02-01-at-9-54-52-PM.jpg",
    "https://i.ibb.co/35MBjmSy/Whats-App-Image-2026-02-01-at-9-54-50-PM.jpg",
    "https://i.ibb.co/fG8xd9yq/Whats-App-Image-2026-02-01-at-9-54-49-PM-1.jpg",
    "https://i.ibb.co/LXF6B95h/Whats-App-Image-2026-02-01-at-9-54-48-PM.jpg",
    "https://i.ibb.co/WpW0HszC/Whats-App-Image-2026-02-01-at-9-54-47-PM.jpg"
  ],
  features: [
    "Panoramic Sunroof",
    "1300cc Turbo Petrol Engine",
    "MBUX Infotainment System with Voice Command",
    "Digital Instrument Cluster",
    "Apple CarPlay & Android Auto",
    "Active Brake Assist",
    "Lane Departure Warning",
    "Blind Spot Monitoring",
    "360Â° Reverse Camera",
    "All-Round Parking Sensors",
    "Front Heated Seats",
    "Driver Memory Seat",
    "Multifunction Steering Wheel",
    "Ambient Interior Lighting",
    "Low Mileage â€“ 56,000km"
  ],
  status: "Available"
}
,

{
  id: "MPK0024A",
  name: "Mercedes Benz A180 W177",
  brand: "Mercedes-Benz",
  model: "A180 W177",
  year: 2019,
  price: 2750000,
  fuel: "Petrol",
  transmission: "Automatic",
  engine: "1300cc Turbo",
  exteriorColor: "Red",
  interior: "Leather",
  features: [
    "Digital instrument cluster",
    "Active brake assist",
    "Lane departure warning",
    "Blind spot monitoring",
    "Front heated seats",
    "Driver's memory seat",
    "Multifunctional steering wheel controls",
    "Apple CarPlay",
    "Android Auto",
    "All-round parking sensors",
    "Reverse camera",
    "Wireless charging"
  ],
  images: [
    "https://i.imgur.com/N3nDIzX.jpg",
    "https://i.imgur.com/w2eEBQl.jpg",
    "https://i.imgur.com/vgfhuJo.jpg",
    "https://i.imgur.com/8xjUFmR.jpg",
    "https://i.imgur.com/PCp4Xz1.jpg",
    "https://i.imgur.com/woeUg8d.jpg",
    "https://i.imgur.com/qX6oXTP.jpg",
    "https://i.imgur.com/o82rWd2.jpg",
    "https://i.imgur.com/HwHuOPy.jpg",
    "https://i.imgur.com/8s5efWi.jpg"
  ]
}
,

{
  id: "MPK0026A",
  name: "Mercedes Benz B180 W247 2019",
  brand: "Mercedes Benz",
  model: "B180 W247",
  year: 2019,
  fuel: "Petrol",
  engine: "1300cc Turbo",
  transmission: "Automatic", // assumed
  color: "Pearl",
  interior: "Leather",
  price: 2950000,
  mileage: 72000,
  features: [
    "Sunroof",
    "Front Bucket Seats",
    "Diamond Front Grill",
    "5 Spoke AMG Style Alloy Rims",
    "MBUX Infotainment System with Voice Command",
    "Digital Instrument Cluster",
    "Active Brake Assist",
    "Lane Departure Warning",
    "Blindspot Monitoring",
    "Front Heated Seats",
    "Driver's Memory Seat",
    "Multifunction Steering Wheel Controls",
    "Ambient Lighting",
    "Apple CarPlay & Android Auto",
    "All-Round Parking Sensors",
    "Reverse Camera with 360Â° View",
    "Wireless Charging",
    "Burmester Surround Sound System with Rear Subwoofer"
  ],
  images: [
    "https://i.ibb.co/6Jy76rQG/Whats-App-Image-2026-02-03-at-5-04-38-PM-1.jpg",
    "https://i.ibb.co/Cr52DVR/Whats-App-Image-2026-02-03-at-5-04-45-PM-1.jpg",
    "https://i.ibb.co/7ds9BPkf/Whats-App-Image-2026-02-03-at-5-04-45-PM.jpg",
    "https://i.ibb.co/cXCCKx1V/Whats-App-Image-2026-02-03-at-5-04-44-PM-1.jpg",
    "https://i.ibb.co/dzHfCgK/Whats-App-Image-2026-02-03-at-5-04-44-PM.jpg",
    "https://i.ibb.co/xKvg5vZ2/Whats-App-Image-2026-02-03-at-5-04-42-PM-2.jpg",
    "https://i.ibb.co/3mc3YZvL/Whats-App-Image-2026-02-03-at-5-04-42-PM-1.jpg",
    "https://i.ibb.co/W9hM146/Whats-App-Image-2026-02-03-at-5-04-42-PM.jpg",
    "https://i.ibb.co/xKzGvP8s/Whats-App-Image-2026-02-03-at-5-04-41-PM.jpg",
    "https://i.ibb.co/6Jy76rQG/Whats-App-Image-2026-02-03-at-5-04-38-PM-1.jpg"
  ]
}
,



        {
  id: "glc220d2018",
  name: "Mercedes-Benz GLC220D 4MATIC 2018",
  make: "Mercedes-Benz",
  model: "GLC220D",
  year: 2018,
  price: "6,300,000",
  transmission: "Automatic",
  fuel: "Diesel",
  mileage: "â€”",
  status: "Available",
  images: [
    "https://i.ibb.co/jv3MCcsQ/Whats-App-Image-2025-11-12-at-8-38-12-AM.jpg",
    "https://i.ibb.co/Nd5pfMfz/Whats-App-Image-2025-11-12-at-8-38-13-AM-1.jpg",
    "https://i.ibb.co/6cwg0C6G/Whats-App-Image-2025-11-12-at-8-38-13-AM-2.jpg",
    "https://i.ibb.co/9mmxShjS/Whats-App-Image-2025-11-12-at-8-38-13-AM.jpg",
    "https://i.ibb.co/ZRvqTb8z/Whats-App-Image-2025-11-12-at-8-38-14-AM-1.jpg",
    "https://i.ibb.co/M5QWnMNk/Whats-App-Image-2025-11-12-at-8-38-14-AM.jpg",
    "https://i.ibb.co/Ld6Mx2DF/Whats-App-Image-2025-11-12-at-8-38-15-AM-1.jpg",
    "https://i.ibb.co/yBh923SJ/Whats-App-Image-2025-11-12-at-8-38-15-AM.jpg",
    "https://i.ibb.co/XxqNDTmq/Whats-App-Image-2025-11-12-at-8-38-16-AM-1.jpg",
    "https://i.ibb.co/pjCZjdK7/Whats-App-Image-2025-11-12-at-8-38-16-AM-2.jpg",
    "https://i.ibb.co/JwWpzgwf/Whats-App-Image-2025-11-12-at-8-38-16-AM.jpg"
  ],
  features: [
    "2200cc Diesel Engine",
    "4MATIC All-Wheel Drive",
    "Polar White Exterior",
    "Panoramic Sunroof",
    "Lane Assist",
    "Heads-Up Display",
    "Blind Spot Monitoring System",
    "Traffic Sign Recognition System",
    "Dual Exhaust System",
    "Black Leather Upholstery",
    "Parking Sensors",
    "Multifunctional Steering Wheel Controls",
    "Cruise Control",
    "Premium Interior Finishing"
  ],
  agents: [
    {
      name: "MotorPride Kenya",
      phone: "+254701234567",
      whatsapp: "https://wa.me/254701234567?text=I'm%20interested%20in%20the%20Mercedes-Benz%20GLC220D%204MATIC%202018"
    }
  ]
},

            // Add your Toyota models here following this structure:
            /*
            {
                id: "unique-id",
                name: "Toyota Model Name",
                make: "Toyota",
                model: "Model Name",
                year: 2023,
                price: "KSh 2,500,000",
                transmission: "Automatic",
                fuel: "Petrol",
                mileage: "â€”",
                status: "Available",
                images: [
                    "image-url-1.jpg",
                    "image-url-2.jpg",
                    // Add more images
                ],
                features: [
                    "Feature 1",
                    "Feature 2",
                    // Add more features
                ],
                agents: [
                    {
                        name: "Agent Name",
                        phone: "+254701234567",
                        whatsapp: "https://wa.me/254701234567?text=I'm%20interested%20in%20the%20Toyota%20Model"
                    }
                ]
            }
            */
        ];

        // Replace the agents data with the specific numbers provided
const agents = [
    { 
        name: "Samuel", 
        role: "Sales Agent", 
        number: "+254724804354", 
        photo: "ðŸ‘¨ðŸ¾â€ðŸ’¼",
        whatsapp: "https://wa.me/254724804354" 
    },
    { 
        name: "Samson", 
        role: "Sales Agent", 
        number: "+254723098206", 
        photo: "ðŸ‘¨ðŸ¾â€ðŸ’¼",
        whatsapp: "https://wa.me/254723098206" 
    }
];

// Update the openAgentsModal function to use the specific reserve message
function openAgentsModal(car) {
    if (!car) return;
    
    currentCarForReservation = car;
    agentsList.innerHTML = '';
    
    // Constant reserve message that goes directly to DM
    const reserveMessage = `Hello, I would like to RESERVE the ${car.name} (ID: ${car.id}). Please confirm availability and reservation process.`;
    const encodedMessage = encodeURIComponent(reserveMessage);
    
    // Create agent items for both Samuel and Samson
    agents.forEach(agent => {
        const whatsappUrl = `${agent.whatsapp}?text=${encodedMessage}`;
        
        const agentItem = document.createElement('div');
        agentItem.className = 'agent-item';
        agentItem.innerHTML = `
            <div class="agent-photo">${agent.photo}</div>
            <div class="agent-name">${agent.name}</div>
            <div class="agent-role">${agent.role}</div>
            <div class="agent-number">${agent.number}</div>
            <a class="agent-action" href="${whatsappUrl}" target="_blank">Chat with ${agent.name}</a>
        `;
        agentsList.appendChild(agentItem);
    });
    
    agentsModal.classList.add('active');
}

// Update the car data to use the specific agents for each car
// This ensures the reserve functionality works with the updated agents system
cars.forEach(car => {
    car.agents = [0, 1]; // Reference to Samuel (0) and Samson (1) in the agents array
});

        // DOM Elements
        const carsGrid = document.getElementById('carsGrid');
        const carModal = document.getElementById('carModal');
        const agentsModal = document.getElementById('agentsModal');
        const closeModal = document.getElementById('closeModal');
        const closeAgents = document.getElementById('closeAgents');
        const prevPage = document.getElementById('prevPage');
        const nextPage = document.getElementById('nextPage');
        const currentPageEl = document.getElementById('currentPage');
        const totalPagesEl = document.getElementById('totalPages');
        const prevCar = document.getElementById('prevCar');
        const nextCar = document.getElementById('nextCar');
        const modalReserveBtn = document.getElementById('modalReserveBtn');
        const modalCarTitle = document.getElementById('modalCarTitle');
        const modalPrimaryImage = document.getElementById('modalPrimaryImage');
        const modalThumbnails = document.getElementById('modalThumbnails');
        const carDetails = document.getElementById('carDetails');
        const agentsList = document.getElementById('agentsList');
        const pageTitle = document.getElementById('pageTitle');
        const searchResultsHeader = document.getElementById('searchResultsHeader');
        const searchResultsTitle = document.getElementById('searchResultsTitle');
        const searchCriteria = document.getElementById('searchCriteria');
        const clearSearch = document.getElementById('clearSearch');
        const exitReserve = document.getElementById('exitReserve');

        // State
        let currentPage = 1;
        const carsPerPage = 8;
        let currentCarIndex = 0;
        let filteredCars = [...cars]; // Start with all cars
        let currentCarForReservation = null;

        // Initialize the page
        function init() {
            // Check for URL parameters and filter cars
            checkURLParameters();
            displayCars();
            setupPagination();
            setupEventListeners();
            setupScrollAnimation();
        }

        // Check URL parameters for search criteria
        function checkURLParameters() {
            const urlParams = new URLSearchParams(window.location.search);
            const make = urlParams.get('make');
            const model = urlParams.get('model');
            const year = urlParams.get('year');
            const transmission = urlParams.get('transmission');
            const fuel = urlParams.get('fuel');
            const search = urlParams.get('search');
            
            // If there's a search parameter, filter the cars
            if (search === 'true' && (make || model || year || transmission || fuel)) {
                filterCars(make, model, year, transmission, fuel);
                showSearchResultsHeader(make, model, year, transmission, fuel);
            }
        }

        // Filter cars based on search criteria
        function filterCars(make, model, year, transmission, fuel) {
            filteredCars = cars.filter(car => {
                // Check each criteria - if provided, it must match
                if (make && car.make !== make) return false;
                if (model && car.model !== model) return false;
                if (year && car.year.toString() !== year) return false;
                if (transmission && car.transmission !== transmission) return false;
                if (fuel && car.fuel !== fuel) return false;
                return true;
            });
            
            // Reset to first page when filtering
            currentPage = 1;
        }

        // Show search results header with criteria
        function showSearchResultsHeader(make, model, year, transmission, fuel) {
            searchResultsHeader.style.display = 'block';
            pageTitle.textContent = 'Search Results';
            
            // Clear previous criteria
            searchCriteria.innerHTML = '';
            
            // Add criteria items
            if (make) {
                addCriteriaItem('Make', make);
            }
            if (model) {
                addCriteriaItem('Model', model);
            }
            if (year) {
                addCriteriaItem('Year', year);
            }
            if (transmission) {
                addCriteriaItem('Transmission', transmission);
            }
            if (fuel) {
                addCriteriaItem('Fuel Type', fuel);
            }
            
            // Update results title
            const count = filteredCars.length;
            searchResultsTitle.textContent = `Found ${count} ${count === 1 ? 'vehicle' : 'vehicles'} matching your search`;
        }

        // Add a criteria item to the search criteria display
        function addCriteriaItem(label, value) {
            const criteriaItem = document.createElement('div');
            criteriaItem.className = 'search-criteria-item';
            criteriaItem.innerHTML = `
                <span>${label}:</span>
                <strong>${value}</strong>
            `;
            searchCriteria.appendChild(criteriaItem);
        }

        // Display cars in the grid
        function displayCars() {
            const startIndex = (currentPage - 1) * carsPerPage;
            const endIndex = startIndex + carsPerPage;
            const currentCars = filteredCars.slice(startIndex, endIndex);
            
            carsGrid.innerHTML = '';
            
            if (currentCars.length === 0) {
                carsGrid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 60px 20px;">
                        <div style="font-size: 60px; margin-bottom: 20px; color: var(--light-text);">ðŸš—</div>
                        <h3 style="font-size: 24px; margin-bottom: 15px; color: var(--text-color);">No Vehicles Found</h3>
                        <p style="color: var(--light-text); margin-bottom: 25px; max-width: 500px; margin-left: auto; margin-right: auto;">
                            No vehicles match your search criteria. Try adjusting your filters or <a href="#" id="clearSearchLink" style="color: var(--primary-color); text-decoration: underline;">view all vehicles</a>.
                        </p>
                    </div>
                `;
                
                // Add event listener to clear search link
                document.getElementById('clearSearchLink').addEventListener('click', (e) => {
                    e.preventDefault();
                    clearSearchAndShowAll();
                });
                
                return;
            }
            
            currentCars.forEach((car, index) => {
                const statusClass = car.status ? `status-${car.status.toLowerCase().replace(' ', '-')}` : '';
                const primaryImage = car.images?.[0] || 'https://images.unsplash.com/photo-1552519507-da3b142c6e3d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80';
                
                const carCard = document.createElement('div');
                carCard.className = 'car-card';
                carCard.setAttribute('data-car-id', car.id);
                carCard.style.animationDelay = `${index * 0.1}s`;
                carCard.innerHTML = `
                    <div class="car-image-container">
                        ${car.status ? `<div class="status-badge ${statusClass}">${car.status}</div>` : ''}
                        <img src="${primaryImage}" alt="${car.name}" class="car-image">
                        <button class="reserve-btn" data-car-id="${car.id}">Reserve</button>
                    </div>
                    <div class="car-info">
                        
                        <div class="car-name">${car.name}</div>
                        <div class="car-id">ID: ${car.id}</div>
                        <div class="car-year-price">
                            <span>${car.year || 'N/A'}</span>
                            <span class="car-price">${car.price || 'Contact for price'}</span>
                        </div>
                        <div class="car-specs">
                            <span>${car.transmission || 'N/A'}</span>
                            <span>${car.fuel || 'N/A'}</span>
                            <span>${car.mileage || 'N/A'}</span>
                        </div>
                    </div>
                `;
                carsGrid.appendChild(carCard);
            });
            
            attachCarEventListeners();
        }

        // Clear search and show all vehicles
        function clearSearchAndShowAll() {
            filteredCars = [...cars];
            currentPage = 1;
            searchResultsHeader.style.display = 'none';
            pageTitle.textContent = 'Toyota Models Collection';
            displayCars();
            setupPagination();
            
            // Update URL without search parameters
            const newUrl = window.location.pathname;
            window.history.replaceState({}, document.title, newUrl);
        }

        // Attach event listeners to car cards
        function attachCarEventListeners() {
            document.querySelectorAll('.car-card').forEach(card => {
                card.addEventListener('click', (e) => {
                    if (e.target.classList.contains('reserve-btn')) {
                        e.stopPropagation();
                        const carId = card.getAttribute('data-car-id');
                        const car = filteredCars.find(c => c.id === carId);
                        openAgentsModal(car);
                    } else {
                        const carId = card.getAttribute('data-car-id');
                        openCarModal(carId);
                    }
                });
            });
        }

        // Setup scroll animation for status badges
        function setupScrollAnimation() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const statusBadge = entry.target.querySelector('.status-badge');
                        if (statusBadge) {
                            setTimeout(() => {
                                statusBadge.classList.add('visible');
                            }, 200);
                        }
                    }
                });
            }, { threshold: 0.3 });
            
            document.querySelectorAll('.car-card').forEach(card => {
                observer.observe(card);
            });
        }

        // Setup pagination
        function setupPagination() {
            const totalPages = Math.ceil(filteredCars.length / carsPerPage);
            currentPageEl.textContent = currentPage;
            totalPagesEl.textContent = totalPages || 1;
            prevPage.disabled = currentPage === 1;
            nextPage.disabled = currentPage === totalPages || totalPages === 0;
        }

        // Setup event listeners
        function setupEventListeners() {
            // Pagination
            prevPage.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    displayCars();
                    setupPagination();
                    setupScrollAnimation();
                }
            });
            
            nextPage.addEventListener('click', () => {
                const totalPages = Math.ceil(filteredCars.length / carsPerPage);
                if (currentPage < totalPages) {
                    currentPage++;
                    displayCars();
                    setupPagination();
                    setupScrollAnimation();
                }
            });
            
            // Modal events
            closeModal.addEventListener('click', closeCarModal);
            closeAgents.addEventListener('click', closeAgentsModal);
            
            // Car navigation in modal
            prevCar.addEventListener('click', showPreviousCar);
            nextCar.addEventListener('click', showNextCar);
            
            // Reserve button in modal
            modalReserveBtn.addEventListener('click', () => {
                const car = filteredCars[currentCarIndex];
                openAgentsModal(car);
            });
            
            // Close modals on overlay click
            carModal.addEventListener('click', (e) => {
                if (e.target === carModal) closeCarModal();
            });
            
            agentsModal.addEventListener('click', (e) => {
                if (e.target === agentsModal) closeAgentsModal();
            });
            
            // Clear search button
            clearSearch.addEventListener('click', clearSearchAndShowAll);
            
            // Exit reserve button
            exitReserve.addEventListener('click', closeAgentsModal);
        }

        // Open car modal with enhanced animations
        function openCarModal(carId) {
            const car = filteredCars.find(c => c.id === carId);
            if (!car) return;
            
            currentCarIndex = filteredCars.findIndex(c => c.id === carId);
            modalCarTitle.textContent = car.name;
            
            const primaryImage = car.images?.[0] || 'https://images.unsplash.com/photo-1552519507-da3b142c6e3d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80';
            modalPrimaryImage.src = primaryImage;
            modalPrimaryImage.alt = car.name;
            
            // Clear and add thumbnails
            modalThumbnails.innerHTML = '';
            if (car.images && car.images.length > 0) {
                car.images.slice(0, 7).forEach((image, index) => {
                    const img = document.createElement('img');
                    img.src = image;
                    img.alt = `${car.name} - Image ${index + 1}`;
                    img.className = 'thumbnail' + (index === 0 ? ' active' : '');
                    img.addEventListener('click', () => {
                        modalPrimaryImage.src = image;
                        // Update active thumbnail
                        document.querySelectorAll('.thumbnail').forEach(thumb => thumb.classList.remove('active'));
                        img.classList.add('active');
                    });
                    modalThumbnails.appendChild(img);
                });
            } else {
                // Add placeholder thumbnails if no images
                for (let i = 0; i < 7; i++) {
                    const img = document.createElement('img');
                    img.src = 'https://images.unsplash.com/photo-1552519507-da3b142c6e3d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80';
                    img.alt = `${car.name} - Image ${i + 1}`;
                    img.className = 'thumbnail' + (i === 0 ? ' active' : '');
                    img.addEventListener('click', () => {
                        modalPrimaryImage.src = img.src;
                        document.querySelectorAll('.thumbnail').forEach(thumb => thumb.classList.remove('active'));
                        img.classList.add('active');
                    });
                    modalThumbnails.appendChild(img);
                }
            }
            
            // Populate car details with staggered animation
            carDetails.innerHTML = '';
            const details = [
               
                { label: 'Price', value: car.price },
                { label: 'Year', value: car.year },
                { label: 'Make', value: car.make },
                { label: 'Model', value: car.model },
                { label: 'Transmission', value: car.transmission },
                { label: 'Fuel Type', value: car.fuel },
                { label: 'Mileage', value: car.mileage },
                { label: 'Status', value: car.status },
                { label: 'Features', value: car.features, isFeatures: true }
            ];
            
            details.forEach((detail, index) => {
                if (!detail.value || detail.value === 'N/A' || (Array.isArray(detail.value) && detail.value.length === 0)) return;
                
                const detailItem = document.createElement('div');
                detailItem.className = 'detail-item';
                detailItem.style.animationDelay = `${index * 0.1}s`;
                
                if (detail.isFeatures && Array.isArray(detail.value)) {
                    const featuresList = document.createElement('div');
                    featuresList.className = 'features-list';
                    detail.value.forEach(feature => {
                        const featureItem = document.createElement('div');
                        featureItem.className = 'feature-item';
                        featureItem.textContent = feature;
                        featuresList.appendChild(featureItem);
                    });
                    detailItem.innerHTML = `<div class="detail-label">${detail.label}</div>`;
                    detailItem.appendChild(featuresList);
                } else {
                    detailItem.innerHTML = `
                        <div class="detail-label">${detail.label}</div>
                        <div>${detail.value}</div>
                    `;
                }
                carDetails.appendChild(detailItem);
            });
            
            carModal.classList.add('active');
        }

        // Close car modal
        function closeCarModal() {
            carModal.classList.remove('active');
        }

        // Show previous car in modal
        function showPreviousCar() {
            if (filteredCars.length === 0) return;
            currentCarIndex = currentCarIndex > 0 ? currentCarIndex - 1 : filteredCars.length - 1;
            openCarModal(filteredCars[currentCarIndex].id);
        }

        // Show next car in modal
        function showNextCar() {
            if (filteredCars.length === 0) return;
            currentCarIndex = currentCarIndex < filteredCars.length - 1 ? currentCarIndex + 1 : 0;
            openCarModal(filteredCars[currentCarIndex].id);
        }

        // Open agents modal with specific agents for the car
        function openAgentsModal(car) {
            if (!car) return;
            
            currentCarForReservation = car;
            agentsList.innerHTML = '';
            
            // Get the specific agents for this car
            const carAgents = car.agents.map(index => agents[index]);
            
            carAgents.forEach(agent => {
                const formattedNumber = agent.number.replace(/\s+/g, '').replace(/-/g, '');
                const message = `Hello, I am interested in reserving the ${car.name} (ID: ${car.id}). Please provide more details.`;
                const encodedMessage = encodeURIComponent(message);
                const whatsappUrl = `https://wa.me/${formattedNumber}?text=${encodedMessage}`;
                
                const agentItem = document.createElement('div');
                agentItem.className = 'agent-item';
                agentItem.innerHTML = `
                    <div class="agent-photo">${agent.photo}</div>
                    <div class="agent-name">${agent.name}</div>
                    <div class="agent-role">${agent.role}</div>
                    <a class="agent-action" href="${whatsappUrl}" target="_blank">Chat on WhatsApp</a>
                `;
                agentsList.appendChild(agentItem);
            });
            
            agentsModal.classList.add('active');
        }

        // Close agents modal
        function closeAgentsModal() {
            agentsModal.classList.remove('active');
            currentCarForReservation = null;
        }

        // Initialize the page when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>