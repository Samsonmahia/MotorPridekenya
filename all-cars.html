<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoHub | All Cars</title>
    <style>
        /* Your existing CSS - I'll keep it shorter for this example */
        :root {
            --primary-color: #1a73e8;
            --secondary-color: #f8f9fa;
            --accent-color: #ff6b35;
            --text-color: #333;
            --light-text: #666;
            --border-color: #e0e0e0;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background-color: white;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 25px;
        }

        nav ul li a {
            text-decoration: none;
            color: var(--text-color);
            font-weight: 500;
        }

        .page-title {
            font-size: 32px;
            margin: 30px 0;
        }

        .cars-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .car-card {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .car-image-container {
            position: relative;
            height: 200px;
            overflow: hidden;
        }

        .car-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .reserve-btn {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
        }

        .car-info {
            padding: 15px;
        }

        .car-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .car-year-price {
            display: flex;
            justify-content: space-between;
            color: var(--light-text);
            margin-bottom: 10px;
        }

        .car-price {
            font-weight: 600;
            color: var(--accent-color);
        }

        .no-results {
            text-align: center;
            padding: 60px 20px;
            grid-column: 1 / -1;
        }

        .debug-info {
            background: #f0f8ff;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            font-family: monospace;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">motorpride</div>
                <nav>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="#" class="active">All Cars</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <main class="container">
        <h1 class="page-title">Our Vehicle Collection</h1>
        
        <!-- Debug Info -->
        <div class="debug-info" id="debugInfo">
            Loading... Please wait
        </div>
        
        <!-- Cars Grid -->
        <div class="cars-grid" id="carsGrid">
            <div class="no-results">
                <div>üîÑ</div>
                <h3>Loading Vehicles...</h3>
                <p>Please wait while we load our vehicle collection.</p>
            </div>
        </div>
    </main>

    <script>
        // Simple debug function
        function updateDebugInfo(message) {
            document.getElementById('debugInfo').textContent = message;
            console.log(message);
        }

        // Load cars data
        async function loadCarsData() {
            updateDebugInfo('Starting to load car data...');
            
            // Try multiple possible locations for car data
            const possiblePaths = [
                '/data/cars.json',
                '/cars.json',
                '/data/cars/index.json',
                'data/cars.json',
                'cars.json'
            ];
            
            for (const path of possiblePaths) {
                updateDebugInfo(`Trying to load from: ${path}`);
                try {
                    const response = await fetch(path);
                    if (response.ok) {
                        const data = await response.json();
                        updateDebugInfo(`‚úÖ SUCCESS: Found data at ${path} with ${Array.isArray(data) ? data.length : 'unknown'} cars`);
                        return Array.isArray(data) ? data : (data.cars || []);
                    }
                } catch (error) {
                    updateDebugInfo(`‚ùå Failed to load from ${path}: ${error.message}`);
                }
            }
            
            // If all fails, use fallback data
            updateDebugInfo('‚ùå No car data found in any location. Using sample data.');
            return getSampleCars();
        }

        // Sample car data
        function getSampleCars() {
            return [
                {
                    id: 1,
                    make: "Mazda",
                    model: "CX-5", 
                    name: "Mazda CX-5 2020",
                    images: ["https://i.imgur.com/FgynEtr.jpeg"],
                    fuel: "Petrol",
                    price: "KSh 3.45M",
                    year: 2020,
                    transmission: "Manual",
                    mileage: "39,000 km"
                },
                {
                    id: 2,
                    make: "Mazda",
                    model: "Demio",
                    name: "2018 Mazda Demio", 
                    images: ["https://i.ibb.co/pvzVmBZG/Whats-App-Image-2025-10-03-at-10-10-45-PM-1.jpg"],
                    fuel: "Petrol",
                    price: "KSh 1.35M",
                    year: 2018,
                    transmission: "Automatic",
                    mileage: "N/A"
                }
            ];
        }

        // Display cars
        function displayCars(cars) {
            const carsGrid = document.getElementById('carsGrid');
            
            if (!cars || cars.length === 0) {
                carsGrid.innerHTML = `
                    <div class="no-results">
                        <div>üöó</div>
                        <h3>No vehicles found</h3>
                        <p>We couldn't find any vehicles in our system.</p>
                        <button onclick="location.reload()">Try Again</button>
                    </div>
                `;
                return;
            }
            
            carsGrid.innerHTML = '';
            
            cars.forEach(car => {
                const carCard = document.createElement('div');
                carCard.className = 'car-card';
                carCard.innerHTML = `
                    <div class="car-image-container">
                        <img src="${car.images[0]}" alt="${car.name}" class="car-image">
                        <button class="reserve-btn">Reserve</button>
                    </div>
                    <div class="car-info">
                        <div class="car-name">${car.name}</div>
                        <div class="car-year-price">
                            <span>${car.year}</span>
                            <span class="car-price">${car.price}</span>
                        </div>
                        <div style="font-size: 14px; color: #666;">
                            <span>${car.transmission}</span> ‚Ä¢ 
                            <span>${car.fuel}</span> ‚Ä¢ 
                            <span>${car.mileage}</span>
                        </div>
                    </div>
                `;
                carsGrid.appendChild(carCard);
            });
            
            updateDebugInfo(`‚úÖ Displaying ${cars.length} cars`);
        }

        // Initialize the page
        async function init() {
            try {
                const cars = await loadCarsData();
                displayCars(cars);
            } catch (error) {
                updateDebugInfo(`‚ùå Error: ${error.message}`);
                displayCars(getSampleCars());
            }
        }

        // Start when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>